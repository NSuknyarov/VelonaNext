<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="firebase.html">

<dom-module id="velona-data">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <firebase-query
        id="queryCategories"
        path="/categories"
        data="{{dataCategories}}"
        order-by-child="parent"
        equal-to="[[categoryName]]">
    </firebase-query>

    <firebase-query
        id="queryCurrentCategory"
        path="/categories"
        data="{{dataCurrentCategory}}"
        order-by-child="id"
        equal-to="[[categoryId]]">
    </firebase-query>
    <firebase-query
        id="queryProducts"
        path="/products"
        data="{{dataProducts}}"
        order-by-child="categories/[[categoryId]]/name"
        equal-to="[[categoryName]]">
    </firebase-query>
  </template>
  <script>
    Polymer({
      is: 'velona-data',

      properties: {
        categoryName: String,
        categoryId: String,
        dataCategories: {
            type: Object,
            notify: true
        },
        dataCurrentCategory: {
            type: Object,
            notify: true
        },
        dataProducts: {
            type: Object,
            notify: true
        }
      }

    });
  </script>
</dom-module>
