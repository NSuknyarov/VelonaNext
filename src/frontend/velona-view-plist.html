<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../../bower_components/iron-data-table/iron-data-table.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="firebase.html">

<dom-module id="velona-view-plist">
  <template>
    <style>
      :host {
        display: block;
        margin: 10px;
      }

      #productTable {
        height: 600px;
        --iron-data-table-row-hover: {
          background: #efefef;
        }
      }
    </style>
    <firebase-query
        id="productQuery"
        path="/products"
        data="{{productData}}"
    ></firebase-query>

    <h1>Списък с продукти</h1>

    <iron-data-table id="productTable" items="[[productData]]">
      <data-table-column name="SKU">
        <template>[[item.sku]]</template>
      </data-table-column>
      <data-table-column name="Наименование">
        <template>[[item.title]]</template>
      </data-table-column>
      <data-table-column name="Цена">
        <template>[[item.pricing.retail_price]]</template>
      </data-table-column>
      <data-table-column name="Статус">
        <template>ДА</template>
      </data-table-column>
      <data-table-column name="Операции">
        <template>
          <a href="/product/[[item.title]]/[[item.$key]]">
            <paper-button>Преглед</paper-button>
          </a>
          <a href="/product/[[item.title]]/[[item.$key]]">
            <paper-button>Редакция</paper-button>
          </a>
          <a href="/product/[[item.title]]/[[item.$key]]">
            <paper-button>Изтриване</paper-button>
          </a>
        </template>
      </data-table-column>
    </iron-data-table>

  </template>

  <script>
    Polymer({
      is: 'velona-view-plist',

      properties: {
        productData: Object,
      }

    });
  </script>
</dom-module>
